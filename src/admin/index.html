<!DOCTYPE html>
<html ng-app="userdb" lang="en">
  <head>
    <title>UserDB Admin</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.8/angular.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.8/angular-cookies.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.8/angular-route.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.8/angular-resource.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.8/angular-sanitize.min.js"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">
    <link rel="stylesheet" href="css/ngNotificationsBar.min.css">
    <script src="js/ui-bootstrap-0.11.0.min.js"></script>
    <script src="js/ngNotificationsBar.min.js"></script>
    <!--script src="/js/ui-bootstrap-tpls-0.11.0.min.js"></script-->
    <script src="js/app.js"></script>
    <!--script src="js/controllers.js"></script-->
    <script src="js/services.js"></script>
    <link rel="stylesheet" href="css/styles.css">
    <link href="img/favicon.ico" rel="icon" type="image/x-icon" />
  </head>
  <body>
    <div class="container-fluid">
      <div class="row">
        <notifications-bar class="notifications"></notifications-bar>
      </div>
    </div>
    <div id="mainApp" ng-controller="NewsletterController" class="container">
      <div class="row">
        <div class="col-xs-2">
          <div class="form-group">
            <label for="identity">Identity (afsender)</label>
            <select
              id="identity"
              class="form-control"
              ng-model="identity"
              ng-options="identity for identity in identities"
              ng-required="true">
            </select>
          </div>
        </div>
        <div class="col-xs-2">
          <div class="form-group">
            <label for="bond_type">BOND Data type</label>
            <select id="bond_type"
              class="form-control"
              ng-model="bond_type"
              ng-change="updatePreview()">
              <option>node</option>
              <option>nodequeue</option>
            </select>
          </div>
        </div>
        <div class="col-xs-2">
          <div class="form-group">
            <label for="bond_id">ID</label>
            <input
              id="bond_id"
              type="text"
              class="form-control"
              placeholder="{{bond_type}} ID"
              ng-model="bond_id">
          </div>
        </div>
        <div class="col-xs-2">
          <div class="form-group">
            <label for="template_html">HTML Template</label>
            <!-- <input type="text" class="form-control" id="template" placeholder="Select default template" ng-model=""> -->
            <select
              id="template_html"
              class="form-control"
              ng-model="template_html"
              ng-options="template_html.name as template_html.name for template_html in html_templates"
              ng-required="true">
            </select>
          </div>
        </div>
        <div class="col-xs-2">
          <div class="form-group">
            <label for="template_plain">Text Template</label>
            <select
              id="template_plain"
              class="form-control"
              ng-model="template_plain"
              ng-options="template_plain.name as template_plain.name for template_plain in plain_templates"
              ng-required="true">
            </select>
          </div>
        </div>
        <div class="col-xs-2">
          <div class="form-group">
            <label for="list">Modtagere</label>
            <select
              id="list"
              class="form-control"
              ng-model="list"
              ng-options="list for list in lists"
              ng-required="true">
              <option value=""></option>
            </select>
          </div>
        </div>
      </div>

      <div class="row">
        <div class="col-xs-12">
          <button type="button" class="btn btn-success" ng-click="sendAdhocNewsletterAction(true)">
            Opret kladde <span class="glyphicon glyphicon-inbox"></span>
          </button>
          <button type="button" class="btn btn-danger" ng-click="sendAdhocNewsletterAction()">
            Send <span class="glyphicon glyphicon-envelope"></span>
          </button>
          <button type="button" class="btn btn-info" ng-click="updatePreview()">
            Preview <span class="glyphicon glyphicon-refresh"></span>
          </button>
        </div>
      </div>
      <hr>

      <!-- PREVIEW -->
      <div class="row">
        <div class="col-xs-12">
          <div class="alert alert-danger" role="alert" ng-show="previewError">Fejl ved indl√¶sning af data fra BOND.</div>
        </div>
        <div class="col-xs-12">
          <div class="panel panel-primary">
            <div class="panel-heading">Emnefelt</div>
            <div class="panel-body">
              <input type="text" class="form-control" ng-model="subject">
            </div>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-xs-12">
          <div class="panel panel-primary">
            <div class="panel-heading">HTML indhold</div>
            <div class="panel-body">
              <iframe class="newsletter-preview" ng-src="{{iframe_html_preview}}"></iframe>
            </div>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-xs-12">
          <div class="panel panel-primary">
            <div class="panel-heading">Text indhold</div>
            <div class="panel-body">
              <iframe class="newsletter-preview" ng-src="{{iframe_plain_preview}}"></iframe>
            </div>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>