<div class="container-fluid">
  <h2>Udsendelser</h2>
  <div class="row">
    <div class="col-xs-12">
      <input
        class="form-control input-sm"
        placeholder="Filter"
        type="text"
        ng-model="emailFilter">
      <table class="table table-hover">
        <tr>
          <th>Internt navn</th>
          <th>Emnefelt</th>
          <th></th>
          <th>Planlagt</th>
        </tr>
        <tr ng-repeat="email in emails | filter: emailFilter">
          <td>{{ email.name }}</td>
          <td>
            <button class="btn btn-info btn-xs" ng-hide="email.subject" ng-click="getEmailData(email)">Vis detaljer</button>
            <div ng-show="email.subject">{{ email.subject }}</div>
            <button class="btn btn-link btn-xs" ng-show="email.html" ng-click="showEmailHtml(email.html)">Vis email indhold</button>
          </td>
          <td><div ng-show="email.total_recipients"><span class="badge">{{ email.total_recipients }}</span> modtagere</div></td>
          <td>
            <div><abbr title="{{ email.schedule }}">{{ email.fromnow }}</abbr></div>
            <button ng-show="email.scheduled" class="btn btn-danger btn-xs btn-block" ng-click="deleteSchedule(email)">Annuller</button>
            <p ng-show="email.draft"><abbr title="Udsendelsen er annulleret">Annulleret</abbr></p>
            <button ng-show="email.draft" class="btn btn-danger btn-xs btn-block" ng-click="deleteEmail(email)">Slet</button>
            <p ng-show="email.unknown_schedule"><abbr title="Tidspunkt for udsendelse er ukendt">Ukendt</abbr></p>
          </td>
          <!-- <td><span class="label" style="background-color: #{{ email.identity | tocolor}};">{{ email.identity }}</span></td> -->
        </tr>
      </table>
    </div>
  </div>
</div>
