<div class="container">
  <div class="row">
    <div class="form-horizontal">
      <div class="form-group">
        <div class="col-sm-10 col-sm-offset-2">
          <button type="button" class="btn" ng-class="{'btn-warning': dirty, 'btn-default': !dirty}" ng-click="closeNewsletterEditor()">
            Luk <span class="glyphicon glyphicon-chevron-left"></span>
          </button>
          <button type="button" class="btn" ng-class="{'btn-success': dirty, 'btn-default': !dirty}" ng-click="saveNewsletter()" ng-disabled="loading_previews">
            Gem <span class="glyphicon glyphicon-floppy-disk"></span>
          </button>
          <button type="button" class="btn btn-danger btn-xs" ng-click="deleteNewsletter()">
            Slet <span class="glyphicon glyphicon-remove"></span>
          </button>
        </div>
      </div>
    </div>
    <div class="form-horizontal">
      <div class="form-group">
        <label for="name_control" class="col-sm-2 control-label">Navn</label>
        <div class="col-sm-10">
          <input
            id="name_control"
            class="form-control"
            type="text"
            ng-model="newsletter.name"
            ng-change="setDirty()"
            placeholder="Insert name"/>
          </div>
      </div>
      <div class="form-group">
        <label for="identity_control" class="col-sm-2 control-label">Afsender</label>
        <div class="col-sm-10">
          <select
            id="identity_control"
            class="form-control"
            ng-model="newsletter.identity"
            ng-options="identity for identity in identities"
            ng-change="setDirty()"
            ng-required="true">
          </select>
        </div>
      </div>
      <div class="form-group">
        <label for="list_control" class="col-sm-2 control-label">Modtagerliste</label>
        <div class="col-sm-10">
          <select
            id="list_control"
            class="form-control"
            ng-model="newsletter.list"
            ng-options="list for list in lists"
            ng-change="setDirty()"
            ng-required="true">
            <option value=""></option>
          </select>
        </div>
      </div>
      <div class="form-group">
        <label for="bond_url_control" class="col-sm-2 control-label">BOND URL</label>
        <div class="col-sm-10">
          <input
            id="bond_url_control"
            type="text"
            class="form-control"
            placeholder="Insert BOND root URL"
            ng-model="newsletter.bond_url"
            ng-change="setDirty()">
          </div>
      </div>
      <div class="form-group">
        <label for="template_html_control" class="col-sm-2 control-label">HTML Template</label>
        <div class="col-sm-10">
          <select
            id="template_html_control"
            class="form-control"
            ng-model="newsletter.template_html"
            ng-options="template_html for template_html in html_templates"
            ng-change="setDirty()"
            ng-required="true">
          </select>
        </div>
      </div>
      <div class="form-group">
        <label for="template_plain_control" class="col-sm-2 control-label">Text Template</label>
        <div class="col-sm-10">
          <select
            id="template_plain_control"
            class="form-control"
            ng-model="newsletter.template_plain"
            ng-options="template_plain for template_plain in plain_templates"
            ng-change="setDirty()"
            ng-required="true">
          </select>
        </div>
      </div>
      <div class="form-group">
        <label for="category_control" class="col-sm-2 control-label">Tilføj kategori</label>
        <div class="col-sm-5">
          <input id="category_control" class="form-control" type="text" ng-model="newCategory" ng-keyup="addCategory($event)" placeholder="Skriv her">
          <ul class="dropdown-menu autocomplete" ng-show="newCategory">
            <li ng-repeat="category in filteredCategories=(categories | filter:newCategory)">
              <a ng-click="addCategory($event, category)">{{category}}</a>
            </li>
            <li>
              <a>Tryk <span class="label label-default">ENTER</span> for at oprette</a>
            </li>
          </ul>
        </div>
        <div class="col-sm-5">
          <label for="category_control">Kategorier</label>
          <ul class="list-inline">
            <li ng-repeat="category in newsletter.categories track by $index">
              <span id="category-{{category}}" class="label label-info"  style="background-color:#{{category|tocolor}}">{{category}} <span class="glyphicon glyphicon-remove" ng-click="removeCategory($index)"></span>&nbsp;</span>
            </li>
          </ul>
        </div>
      </div>
      <div class="form-group">
        <label for="tags_control" class="col-sm-2 control-label">Tilføj tag</label>
        <div class="col-sm-5">
          <input id="tags_control" class="form-control" type="text" ng-model="newTag" ng-keyup="addTag($event)" placeholder="Skriv her">
          <ul class="dropdown-menu autocomplete" ng-show="newTag">
            <li ng-repeat="tag in filteredTag=(tags | filter:newTag)">
              <a ng-click="addTag($event, tag)">{{tag}}</a>
            </li>
            <li>
              <a>Tryk <span class="label label-default">ENTER</span> for at oprette</a>
            </li>
          </ul>
        </div>
        <div class="col-sm-5">
          <label for="tags_control">Tags</label>
          <ul class="list-inline">
            <li ng-repeat="tag in newsletter.tags track by $index">
              <span id="tag-{{tag}}" class="label label-info"  style="background-color:#{{tag|tocolor}}">{{tag}} <span class="glyphicon glyphicon-remove" ng-click="removeTag($index)"></span>&nbsp;</span>
            </li>
          </ul>
        </div>
      </div>
      <div class="form-group">
        <label for="scheduling_disabled" class="col-sm-2 control-label">Hindre automatisk udsendelse</label>
        <div class="col-sm-5">
          <input type="checkbox" ng-change="setDirty()" ng-model="newsletter.scheduling_disabled"> Dette sikrer at nyhedsbrevet ikke udsendes selvom der er tilknyttet automatisk schedulering.
        </div>
      </div>
    </div>
  </div>
</div>
